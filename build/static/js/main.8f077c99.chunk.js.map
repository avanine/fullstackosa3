{"version":3,"sources":["services/persons.js","components/App.js","index.js"],"names":["baseUrl","axios","get","newObject","post","id","put","concat","delete","Numbers","props","filter","length","filteredArray","persons","person","name","toLowerCase","includes","_jsx","children","map","_jsxs","number","DeleteButton","handleDelete","onClick","Filter","value","onChange","handleChange","PersonForm","onSubmit","addPerson","newName","handleNameChange","newNumber","handleNumberChange","type","Notification","_ref","message","classname","className","App","_useState","useState","_useState2","_slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","searchFilter","setSearchFilter","_useState9","_useState10","notificationMessage","setNotificationMessage","_useState11","_useState12","setClassname","useEffect","personService","then","response","data","event","target","preventDefault","personObject","some","window","confirm","find","setTimeout","catch","error","console","log","p","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8f077c99.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = 'http://localhost:3001/api/persons'\n\nconst getAll = () => {\n    return axios.get(baseUrl)\n}\n\nconst create = newObject => {\n    return axios.post(baseUrl, newObject)\n}\n\nconst update = (id, newObject) => {\n    return axios.put(`${baseUrl}/${id}`, newObject)\n}\n\nconst deletePerson = id => {\n    return axios.delete(`${baseUrl}/${id}`)\n}\n\nexport default { getAll, create, update, deletePerson }","import React, { useState, useEffect } from 'react'\nimport personService from '../services/persons'\nimport './App.css'\n\nfunction Numbers(props) {\n\n  if (props.filter.length > 0) {\n    const filteredArray = props.persons.filter(person => person.name.toLowerCase().includes(props.filter.toLowerCase()))\n    return (\n      <div>\n        {filteredArray.map(person => <p key={person.name}>{person.name} {person.number} <DeleteButton handleDelete={() => props.handleDelete(person.id, person.name)} /></p>)}\n      </div>\n    )\n  }\n\n  return (\n    <div>\n      {props.persons.map(person => <p key={person.name}>{person.name} {person.number} <DeleteButton handleDelete={() => props.handleDelete(person.id, person.name)} /></p>)}\n    </div>\n  )\n}\n\nfunction DeleteButton(props) {\n  return <button onClick={props.handleDelete}>delete</button>\n}\n\nfunction Filter(props) {\n  return (\n    <div>\n      filter numbers <input value={props.filter} onChange={props.handleChange} />\n    </div>\n  )\n}\n\nfunction PersonForm(props) {\n  return (\n    <form onSubmit={props.addPerson}>\n      <div>\n        name: <input value={props.newName} onChange={props.handleNameChange} />\n      </div>\n      <div>\n        number: <input value={props.newNumber} onChange={props.handleNumberChange} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  )\n}\n\nfunction Notification({ message, classname }) {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className={classname}>\n      {message}\n    </div>\n  )\n}\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [searchFilter, setSearchFilter] = useState('')\n  const [notificationMessage, setNotificationMessage] = useState(null)\n  const [classname, setClassname] = useState('error');\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(response => {\n        setPersons(response.data)\n      })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n\n    if (!persons.some(person => person.name === newName)) {\n      personService\n        .create(personObject)\n        .then(response => {\n          setPersons(persons.concat(response.data))\n          setNewName('')\n          setNewNumber('')\n        })\n        .catch(error => {\n          console.log(error)\n        })\n      setNotificationMessage(\n        `Added ${newName}`\n      )\n      setTimeout(() => {\n        setNotificationMessage(null)\n      }, 5000)\n      setClassname('success')\n\n    } else {\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with the new one?`)) {\n        personService\n          .update(persons.find((person) => person.name === newName).id, personObject)\n        personService\n          .getAll()\n          .then(response => {\n            setPersons(response.data)\n          })\n        setNewName('')\n        setNewNumber('')\n        setNotificationMessage(\n          `The number for ${newName} has been updated`\n        )\n        setTimeout(() => {\n          setNotificationMessage(null)\n        }, 5000)\n        setClassname('success')\n      }\n    }\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n  const handleFilterChange = (event) => {\n    setSearchFilter(event.target.value)\n  }\n  const handleDelete = (id, name) => {\n    if (window.confirm(`Delete ${name}?`)) {\n      personService\n        .deletePerson(id)\n        .catch(error => {\n          setNotificationMessage(\n            `Information of ${name} has already been removed from server`\n          )\n          setTimeout(() => {\n            setNotificationMessage(null)\n          }, 5000)\n          setClassname('error')\n          setPersons(persons.filter(p => p.id !== id))\n        });\n      personService\n        .getAll()\n        .then(response => {\n          setPersons(response.data)\n        })\n      setNotificationMessage(\n        `Deleted ${name}`\n      )\n      setTimeout(() => {\n        setNotificationMessage(null)\n      }, 5000)\n      setClassname('success')\n    }\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notificationMessage} classname={classname} />\n      <Filter filter={searchFilter} handleChange={handleFilterChange} />\n      <h3>Add a new number</h3>\n      <PersonForm addPerson={addPerson} newName={newName} handleNameChange={handleNameChange} newNumber={newNumber} handleNumberChange={handleNumberChange} />\n      <h3>Numbers</h3>\n      <Numbers persons={persons} filter={searchFilter} handleDelete={handleDelete} />\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}